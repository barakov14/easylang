<div class="pr-40 pl-40" *ngIf="(taskDetail$ | async) as task">
  <header class="flex items-center justify-between py-4">
    <h1 class="text-2xl self-start font-bold">{{ task.name }}</h1>
    <div class="flex items-center flex-col">
      <p class="mr-4">Created at: {{ task.started_at }}</p>
      <div class="mr-4" *ngIf="task.responsibles.length > 0; else noEditors">Editor:
        <ng-container *ngFor="let editor of task.responsibles">
          {{ editor.name }} {{ editor.surname }},
        </ng-container>
      </div>
      <ng-template #noEditors>
        <p>Editors: No editors found.</p>
      </ng-template>
    </div>
  </header>
  <ng-container *ngIf="(editors$ | async) as editors">
    <project-editors-add [editors]="editors"></project-editors-add>
  </ng-container>
  <main class="my-8">
    <p class="text-lg">
      {{ task.description }}
    </p>
  </main>
  <hr>
  <table class="table-auto w-full mt-5">
    <thead>
    <tr>
      <th class="text-left py-2 px-4 border-b border-gray-200">ID</th>
      <th class="text-left py-2 px-4 border-b border-gray-200">Статус</th>
      <th class="text-left py-2 px-4 border-b border-gray-200">Grade</th>
      <th class="text-left py-2 px-4 border-b border-gray-200">Actions</th>
    </tr>
    </thead>
    <tbody *ngIf="(submissions$ | async) as submissions; else noSubmissions">
    <tr *ngFor="let submission of submissions">
      <td class="py-2 px-4 border-b border-gray-200">{{ submission.id }}</td>
      <td class="py-2 px-4 border-b border-gray-200">{{ submission.status }}</td>
      <td class="py-2 px-4 border-b border-gray-200">{{ submission.grade }}</td>
      <td class="py-2 px-4 border-b border-gray-200">
        <a [routerLink]="[submission.id]">
          edit
        </a>
      </td>
    </tr>
    </tbody>
    <ng-template #noSubmissions>No submissions yet...</ng-template>
  </table>
</div>

